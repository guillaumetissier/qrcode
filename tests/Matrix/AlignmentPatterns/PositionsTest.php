<?php

namespace Tests\Matrix\AlignmentPatterns;

use PHPUnit\Framework\TestCase;
use ThePhpGuild\QrCode\DataEncoder\Version\Version;
use ThePhpGuild\QrCode\Matrix\AlignmentPatterns\Positions;

class PositionsTest extends TestCase
{
    private Positions $positions;

    protected function setUp(): void
    {
        parent::setUp();

        $this->positions = new Positions();
    }

    /**
     * @dataProvider provideDataToTestGetPositions
     */
    public function testGetPositions(Version $version, array $expectedPositions): void
    {
        $this->assertEquals(
            $expectedPositions,
            $this->positions->setVersion($version)->getPositions()
        );
    }

    public static function provideDataToTestGetPositions(): \Generator
    {
        yield [Version::V01, []];
        yield [Version::V02, [[18, 18]]];
        yield [Version::V03, [[22, 22]]];
        yield [Version::V04, [[26, 26]]];
        yield [Version::V05, [[30, 30]]];
        yield [Version::V06, [[34, 34]]];
        yield [
            Version::V07,
            [[6, 22], [22, 6], [22, 22], [22, 38], [38, 22], [38, 38]],
        ];
        yield [
            Version::V08,
            [[6, 24], [24, 6], [24, 24], [24, 42], [42, 24], [42, 42]],
        ];
        yield [
            Version::V09,
            [[6, 26], [26, 6], [26, 26], [26, 46], [46, 26], [46, 46]],
        ];
        yield [
            Version::V10,
            [[6, 28], [28, 6], [28, 28], [28, 50], [50, 28], [50, 50]],
        ];
        yield [
            Version::V11,
            [[6, 30], [30, 6], [30, 30], [30, 54], [54, 30], [54, 54]],
        ];
        yield [
            Version::V12,
            [[6, 32], [32, 6], [32, 32], [32, 58], [58, 32], [58, 58]],
        ];
        yield [
            Version::V13,
            [[6, 34], [34, 6], [34, 34], [34, 62], [62, 34], [62, 62]],
        ];
        yield [
            Version::V14,
            [
                [6, 26], [6, 46],
                [26, 6], [26, 26], [26, 46], [26, 66],
                [46, 6], [46, 26], [46, 46], [46, 66],
                [66, 26], [66, 46], [66, 66]],
        ];
        yield [
            Version::V15,
            [
                [6, 26], [6, 48],
                [26, 6], [26, 26], [26, 48], [26, 70],
                [48, 6], [48, 26], [48, 48], [48, 70],
                [70, 26], [70, 48], [70, 70]],
        ];
        yield [
            Version::V16,
            [
                [6, 26], [6, 50],
                [26, 6], [26, 26], [26, 50], [26, 74],
                [50, 6], [50, 26], [50, 50], [50, 74],
                [74, 26], [74, 50], [74, 74]],
        ];
        yield [
            Version::V17,
            [
                [6, 30], [6, 54],
                [30, 6], [30, 30], [30, 54], [30, 78],
                [54, 6], [54, 30], [54, 54], [54, 78],
                [78, 30], [78, 54], [78, 78]],
        ];
        yield [
            Version::V18,
            [
                [6, 30], [6, 56],
                [30, 6], [30, 30], [30, 56], [30, 82],
                [56, 6], [56, 30], [56, 56], [56, 82],
                [82, 30], [82, 56], [82, 82]],
        ];
        yield [
            Version::V19,
            [
                [6, 30], [6, 58],
                [30, 6], [30, 30], [30, 58], [30, 86],
                [58, 6], [58, 30], [58, 58], [58, 86],
                [86, 30], [86, 58], [86, 86],
            ],
        ];
        yield [
            Version::V20,
            [
                [6, 34], [6, 62],
                [34, 6], [34, 34], [34, 62], [34, 90],
                [62, 6], [62, 34], [62, 62], [62, 90],
                [90, 34], [90, 62], [90, 90],
            ],
        ];
        yield [
            Version::V21,
            [
                [6, 28], [6, 50], [6, 72],
                [28, 6], [28, 28], [28, 50], [28, 72], [28, 94],
                [50, 6], [50, 28], [50, 50], [50, 72], [50, 94],
                [72, 6], [72, 28], [72, 50], [72, 72], [72, 94],
                [94, 28], [94, 50], [94, 72], [94, 94],
            ],
        ];
        yield [
            Version::V22,
            [
                [6, 26], [6, 50], [6, 74],
                [26, 6], [26, 26], [26, 50], [26, 74], [26, 98],
                [50, 6], [50, 26], [50, 50], [50, 74], [50, 98],
                [74, 6], [74, 26], [74, 50], [74, 74], [74, 98],
                [98, 26], [98, 50], [98, 74], [98, 98],
            ],
        ];
        yield [
            Version::V23,
            [
                [6, 30], [6, 54], [6, 78],
                [30, 6], [30, 30], [30, 54], [30, 78], [30, 102],
                [54, 6], [54, 30], [54, 54], [54, 78], [54, 102],
                [78, 6], [78, 30], [78, 54], [78, 78], [78, 102],
                [102, 30], [102, 54], [102, 78], [102, 102],
            ],
        ];
        yield [
            Version::V24,
            [
                [6, 28], [6, 54], [6, 80],
                [28, 6], [28, 28], [28, 54], [28, 80], [28, 106],
                [54, 6], [54, 28], [54, 54], [54, 80], [54, 106],
                [80, 6], [80, 28], [80, 54], [80, 80], [80, 106],
                [106, 28], [106, 54], [106, 80], [106, 106],
            ],
        ];
        yield [
            Version::V25,
            [
                [6, 32], [6, 58], [6, 84],
                [32, 6], [32, 32], [32, 58], [32, 84], [32, 110],
                [58, 6], [58, 32], [58, 58], [58, 84], [58, 110],
                [84, 6], [84, 32], [84, 58], [84, 84], [84, 110],
                [110, 32], [110, 58], [110, 84], [110, 110],
            ],
        ];
        yield [
            Version::V26,
            [
                [6, 30], [6, 58], [6, 86],
                [30, 6], [30, 30], [30, 58], [30, 86], [30, 114],
                [58, 6], [58, 30], [58, 58], [58, 86], [58, 114],
                [86, 6], [86, 30], [86, 58], [86, 86], [86, 114],
                [114, 30], [114, 58], [114, 86], [114, 114],
            ],
        ];
        yield [
            Version::V27,
            [
                [6, 34], [6, 62], [6, 90],
                [34, 6], [34, 34], [34, 62], [34, 90], [34, 118],
                [62, 6], [62, 34], [62, 62], [62, 90], [62, 118],
                [90, 6], [90, 34], [90, 62], [90, 90], [90, 118],
                [118, 34], [118, 62], [118, 90], [118, 118],
            ],
        ];
        yield [
            Version::V28,
            [
                [6, 30], [6, 50], [6, 74], [6, 98],
                [30, 6], [30, 30], [30, 50], [30, 74], [30, 98], [30, 122],
                [50, 6], [50, 30], [50, 50], [50, 74], [50, 98], [50, 122],
                [74, 6], [74, 30], [74, 50], [74, 74], [74, 98], [74, 122],
                [98, 6], [98, 30], [98, 50], [98, 74], [98, 98], [98, 122],
                [122, 30], [122, 50], [122, 74], [122, 98], [122, 122],
            ],
        ];
        yield [
            Version::V29,
            [
                [6, 34], [6, 54], [6, 78], [6, 102],
                [34, 6], [34, 34], [34, 54], [34, 78], [34, 102], [34, 126],
                [54, 6], [54, 34], [54, 54], [54, 78], [54, 102], [54, 126],
                [78, 6], [78, 34], [78, 54], [78, 78], [78, 102], [78, 126],
                [102, 6], [102, 34], [102, 54], [102, 78], [102, 102], [102, 126],
                [126, 34], [126, 54], [126, 78], [126, 102], [126, 126],
            ],
        ];
        yield [
            Version::V30,
            [
                [6, 26], [6, 52], [6, 78], [6, 104],
                [26, 6], [26, 26], [26, 52], [26, 78], [26, 104], [26, 130],
                [52, 6], [52, 26], [52, 52], [52, 78], [52, 104], [52, 130],
                [78, 6], [78, 26], [78, 52], [78, 78], [78, 104], [78, 130],
                [104, 6], [104, 26], [104, 52], [104, 78], [104, 104], [104, 130],
                [130, 26], [130, 52], [130, 78], [130, 104], [130, 130],
            ],
        ];
        yield [
            Version::V31,
            [
                [6, 34], [6, 56], [6, 82], [6, 108],
                [34, 6], [34, 34], [34, 56], [34, 82], [34, 108], [34, 134],
                [56, 6], [56, 34], [56, 56], [56, 82], [56, 108], [56, 134],
                [82, 6], [82, 34], [82, 56], [82, 82], [82, 108], [82, 134],
                [108, 6], [108, 34], [108, 56], [108, 82], [108, 108], [108, 134],
                [134, 34], [134, 56], [134, 82], [134, 108], [134, 134],
            ],
        ];
        yield [
            Version::V32,
            [
                [6, 30], [6, 60], [6, 86], [6, 112],
                [30, 6], [30, 30], [30, 60], [30, 86], [30, 112], [30, 138],
                [60, 6], [60, 30], [60, 60], [60, 86], [60, 112], [60, 138],
                [86, 6], [86, 30], [86, 60], [86, 86], [86, 112], [86, 138],
                [112, 6], [112, 30], [112, 60], [112, 86], [112, 112], [112, 138],
                [138, 30], [138, 60], [138, 86], [138, 112], [138, 138],
            ],
        ];
        yield [
            Version::V33,
            [
                [6, 34], [6, 58], [6, 86], [6, 114],
                [34, 6], [34, 34], [34, 58], [34, 86], [34, 114], [34, 142],
                [58, 6], [58, 34], [58, 58], [58, 86], [58, 114], [58, 142],
                [86, 6], [86, 34], [86, 58], [86, 86], [86, 114], [86, 142],
                [114, 6], [114, 34], [114, 58], [114, 86], [114, 114], [114, 142],
                [142, 34], [142, 58], [142, 86], [142, 114], [142, 142],
            ],
        ];
        yield [
            Version::V34,
            [
                [6, 30], [6, 62], [6, 90], [6, 118],
                [30, 6], [30, 30], [30, 62], [30, 90], [30, 118], [30, 146],
                [62, 6], [62, 30], [62, 62], [62, 90], [62, 118], [62, 146],
                [90, 6], [90, 30], [90, 62], [90, 90], [90, 118], [90, 146],
                [118, 6], [118, 30], [118, 62], [118, 90], [118, 118], [118, 146],
                [146, 30], [146, 62], [146, 90], [146, 118], [146, 146],
            ],
        ];
        yield [
            Version::V35,
            [
                [6, 30], [6, 54], [6, 78], [6, 102], [6, 126],
                [30, 6], [30, 30], [30, 54], [30, 78], [30, 102], [30, 126], [30, 150],
                [54, 6], [54, 30], [54, 54], [54, 78], [54, 102], [54, 126], [54, 150],
                [78, 6], [78, 30], [78, 54], [78, 78], [78, 102], [78, 126], [78, 150],
                [102, 6], [102, 30], [102, 54], [102, 78], [102, 102], [102, 126], [102, 150],
                [126, 6], [126, 30], [126, 54], [126, 78], [126, 102], [126, 126], [126, 150],
                [150, 30], [150, 54], [150, 78], [150, 102], [150, 126], [150, 150],
            ],
        ];
        yield [
            Version::V36,
            [
                [6, 24], [6, 50], [6, 76], [6, 102], [6, 128],
                [24, 6], [24, 24], [24, 50], [24, 76], [24, 102], [24, 128], [24, 154],
                [50, 6], [50, 24], [50, 50], [50, 76], [50, 102], [50, 128], [50, 154],
                [76, 6], [76, 24], [76, 50], [76, 76], [76, 102], [76, 128], [76, 154],
                [102, 6], [102, 24], [102, 50], [102, 76], [102, 102], [102, 128], [102, 154],
                [128, 6], [128, 24], [128, 50], [128, 76], [128, 102], [128, 128], [128, 154],
                [154, 24], [154, 50], [154, 76], [154, 102], [154, 128], [154, 154],
            ],
        ];
        yield [
            Version::V37,
            [
                [6, 28], [6, 54], [6, 80], [6, 106], [6, 132],
                [28, 6], [28, 28], [28, 54], [28, 80], [28, 106], [28, 132], [28, 158],
                [54, 6], [54, 28], [54, 54], [54, 80], [54, 106], [54, 132], [54, 158],
                [80, 6], [80, 28], [80, 54], [80, 80], [80, 106], [80, 132], [80, 158],
                [106, 6], [106, 28], [106, 54], [106, 80], [106, 106], [106, 132], [106, 158],
                [132, 6], [132, 28], [132, 54], [132, 80], [132, 106], [132, 132], [132, 158],
                [158, 28], [158, 54], [158, 80], [158, 106], [158, 132], [158, 158],
            ],
        ];
        yield [
            Version::V38,
            [
                [6, 32], [6, 58], [6, 84], [6, 110], [6, 136],
                [32, 6], [32, 32], [32, 58], [32, 84], [32, 110], [32, 136], [32, 162],
                [58, 6], [58, 32], [58, 58], [58, 84], [58, 110], [58, 136], [58, 162],
                [84, 6], [84, 32], [84, 58], [84, 84], [84, 110], [84, 136], [84, 162],
                [110, 6], [110, 32], [110, 58], [110, 84], [110, 110], [110, 136], [110, 162],
                [136, 6], [136, 32], [136, 58], [136, 84], [136, 110], [136, 136], [136, 162],
                [162, 32], [162, 58], [162, 84], [162, 110], [162, 136], [162, 162],
            ],
        ];
        yield [
            Version::V39,
            [
                [6, 26], [6, 54], [6, 82], [6, 110], [6, 138],
                [26, 6], [26, 26], [26, 54], [26, 82], [26, 110], [26, 138], [26, 166],
                [54, 6], [54, 26], [54, 54], [54, 82], [54, 110], [54, 138], [54, 166],
                [82, 6], [82, 26], [82, 54], [82, 82], [82, 110], [82, 138], [82, 166],
                [110, 6], [110, 26], [110, 54], [110, 82], [110, 110], [110, 138], [110, 166],
                [138, 6], [138, 26], [138, 54], [138, 82], [138, 110], [138, 138], [138, 166],
                [166, 26], [166, 54], [166, 82], [166, 110], [166, 138], [166, 166],
            ],
        ];
        yield [
            Version::V40,
            [
                [6, 30], [6, 58], [6, 86], [6, 114], [6, 142],
                [30, 6], [30, 30], [30, 58], [30, 86], [30, 114], [30, 142], [30, 170],
                [58, 6], [58, 30], [58, 58], [58, 86], [58, 114], [58, 142], [58, 170],
                [86, 6], [86, 30], [86, 58], [86, 86], [86, 114], [86, 142], [86, 170],
                [114, 6], [114, 30], [114, 58], [114, 86], [114, 114], [114, 142], [114, 170],
                [142, 6], [142, 30], [142, 58], [142, 86], [142, 114], [142, 142], [142, 170],
                [170, 30], [170, 58], [170, 86], [170, 114], [170, 142], [170, 170],
            ],
        ];
    }
}
