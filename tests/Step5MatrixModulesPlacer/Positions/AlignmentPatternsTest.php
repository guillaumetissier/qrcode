<?php

namespace Tests\Step5MatrixModulesPlacer\Positions;

use PHPUnit\Framework\TestCase;
use ThePhpGuild\QrCode\Enums\Version;
use ThePhpGuild\QrCode\Step5MatrixModulesPlacer\Positions\AlignmentPatternsCenterPositions as Positions;
use ThePhpGuild\QrCode\Step5MatrixModulesPlacer\Positions\Position;

class AlignmentPatternsTest extends TestCase
{
    private Positions $positions;

    protected function setUp(): void
    {
        parent::setUp();

        $this->positions = new Positions();
    }

    /**
     * @dataProvider provideDataToTestGetPositions
     */
    public function testGetPositions(Version $version, array $expectedPositions): void
    {
        $p = 0;
        foreach ($this->positions->setVersion($version)->getPositions() as $position) {
            $this->assertEquals($expectedPositions[$p++], $position);
        }
    }

    public static function provideDataToTestGetPositions(): \Generator
    {
        yield [Version::V02, [new Position(18, 18)]];
        yield [Version::V03, [new Position(22, 22)]];
        yield [Version::V04, [new Position(26, 26)]];
        yield [Version::V05, [new Position(30, 30)]];
        yield [Version::V06, [new Position(34, 34)]];
        yield [
            Version::V07,
            [
                new Position(6, 22),
                new Position(22, 6),
                new Position(22, 22),
                new Position(22, 38),
                new Position(38, 22),
                new Position(38, 38),
            ],
        ];
        yield [
            Version::V08,
            [
                new Position(6, 24),
                new Position(24, 6),
                new Position(24, 24),
                new Position(24, 42),
                new Position(42, 24),
                new Position(42, 42),
            ],
        ];
        yield [
            Version::V09,
            [
                new Position(6, 26),
                new Position(26, 6),
                new Position(26, 26),
                new Position(26, 46),
                new Position(46, 26),
                new Position(46, 46),
            ],
        ];
        yield [
            Version::V10,
            [
                new Position(6, 28),
                new Position(28, 6),
                new Position(28, 28),
                new Position(28, 50),
                new Position(50, 28),
                new Position(50, 50),
            ],
        ];
        yield [
            Version::V11,
            [
                new Position(6, 30),
                new Position(30, 6),
                new Position(30, 30),
                new Position(30, 54),
                new Position(54, 30),
                new Position(54, 54),
            ],
        ];
        yield [
            Version::V12,
            [
                new Position(6, 32),
                new Position(32, 6),
                new Position(32, 32),
                new Position(32, 58),
                new Position(58, 32),
                new Position(58, 58),
            ],
        ];
        yield [
            Version::V13,
            [
                new Position(6, 34),
                new Position(34, 6),
                new Position(34, 34),
                new Position(34, 62),
                new Position(62, 34),
                new Position(62, 62),
            ],
        ];
        yield [
            Version::V14,
            [
                new Position(6, 26),
                new Position(6, 46),
                new Position(26, 6),
                new Position(26, 26),
                new Position(26, 46),
                new Position(26, 66),
                new Position(46, 6),
                new Position(46, 26),
                new Position(46, 46),
                new Position(46, 66),
                new Position(66, 26),
                new Position(66, 46),
                new Position(66, 66),
            ],
        ];
        yield [
            Version::V15,
            [
                new Position(6, 26),
                new Position(6, 48),
                new Position(26, 6),
                new Position(26, 26),
                new Position(26, 48),
                new Position(26, 70),
                new Position(48, 6),
                new Position(48, 26),
                new Position(48, 48),
                new Position(48, 70),
                new Position(70, 26),
                new Position(70, 48),
                new Position(70, 70),
            ],
        ];
        yield [
            Version::V16,
            [
                new Position(6, 26),
                new Position(6, 50),
                new Position(26, 6),
                new Position(26, 26),
                new Position(26, 50),
                new Position(26, 74),
                new Position(50, 6),
                new Position(50, 26),
                new Position(50, 50),
                new Position(50, 74),
                new Position(74, 26),
                new Position(74, 50),
                new Position(74, 74),
            ],
        ];
        yield [
            Version::V17,
            [
                new Position(6, 30),
                new Position(6, 54),
                new Position(30, 6),
                new Position(30, 30),
                new Position(30, 54),
                new Position(30, 78),
                new Position(54, 6),
                new Position(54, 30),
                new Position(54, 54),
                new Position(54, 78),
                new Position(78, 30),
                new Position(78, 54),
                new Position(78, 78),
            ],
        ];
        yield [
            Version::V18,
            [
                new Position(6, 30),
                new Position(6, 56),
                new Position(30, 6),
                new Position(30, 30),
                new Position(30, 56),
                new Position(30, 82),
                new Position(56, 6),
                new Position(56, 30),
                new Position(56, 56),
                new Position(56, 82),
                new Position(82, 30),
                new Position(82, 56),
                new Position(82, 82),
            ],
        ];
        yield [
            Version::V19,
            [
                new Position(6, 30),
                new Position(6, 58),
                new Position(30, 6),
                new Position(30, 30),
                new Position(30, 58),
                new Position(30, 86),
                new Position(58, 6),
                new Position(58, 30),
                new Position(58, 58),
                new Position(58, 86),
                new Position(86, 30),
                new Position(86, 58),
                new Position(86, 86),
            ],
        ];
        yield [
            Version::V20,
            [
                new Position(6, 34),
                new Position(6, 62),
                new Position(34, 6),
                new Position(34, 34),
                new Position(34, 62),
                new Position(34, 90),
                new Position(62, 6),
                new Position(62, 34),
                new Position(62, 62),
                new Position(62, 90),
                new Position(90, 34),
                new Position(90, 62),
                new Position(90, 90),
            ],
        ];
        yield [
            Version::V21,
            [
                new Position(6, 28),
                new Position(6, 50),
                new Position(6, 72),
                new Position(28, 6),
                new Position(28, 28),
                new Position(28, 50),
                new Position(28, 72),
                new Position(28, 94),
                new Position(50, 6),
                new Position(50, 28),
                new Position(50, 50),
                new Position(50, 72),
                new Position(50, 94),
                new Position(72, 6),
                new Position(72, 28),
                new Position(72, 50),
                new Position(72, 72),
                new Position(72, 94),
                new Position(94, 28),
                new Position(94, 50),
                new Position(94, 72),
                new Position(94, 94),
            ],
        ];
        yield [
            Version::V22,
            [
                new Position(6, 26),
                new Position(6, 50),
                new Position(6, 74),
                new Position(26, 6),
                new Position(26, 26),
                new Position(26, 50),
                new Position(26, 74),
                new Position(26, 98),
                new Position(50, 6),
                new Position(50, 26),
                new Position(50, 50),
                new Position(50, 74),
                new Position(50, 98),
                new Position(74, 6),
                new Position(74, 26),
                new Position(74, 50),
                new Position(74, 74),
                new Position(74, 98),
                new Position(98, 26),
                new Position(98, 50),
                new Position(98, 74),
                new Position(98, 98),
            ],
        ];
        yield [
            Version::V23,
            [
                new Position(6, 30),
                new Position(6, 54),
                new Position(6, 78),
                new Position(30, 6),
                new Position(30, 30),
                new Position(30, 54),
                new Position(30, 78),
                new Position(30, 102),
                new Position(54, 6),
                new Position(54, 30),
                new Position(54, 54),
                new Position(54, 78),
                new Position(54, 102),
                new Position(78, 6),
                new Position(78, 30),
                new Position(78, 54),
                new Position(78, 78),
                new Position(78, 102),
                new Position(102, 30),
                new Position(102, 54),
                new Position(102, 78),
                new Position(102, 102),
            ],
        ];
        yield [
            Version::V24,
            [
                new Position(6, 28),
                new Position(6, 54),
                new Position(6, 80),
                new Position(28, 6),
                new Position(28, 28),
                new Position(28, 54),
                new Position(28, 80),
                new Position(28, 106),
                new Position(54, 6),
                new Position(54, 28),
                new Position(54, 54),
                new Position(54, 80),
                new Position(54, 106),
                new Position(80, 6),
                new Position(80, 28),
                new Position(80, 54),
                new Position(80, 80),
                new Position(80, 106),
                new Position(106, 28),
                new Position(106, 54),
                new Position(106, 80),
                new Position(106, 106),
            ],
        ];
        yield [
            Version::V25,
            [
                new Position(6, 32),
                new Position(6, 58),
                new Position(6, 84),
                new Position(32, 6),
                new Position(32, 32),
                new Position(32, 58),
                new Position(32, 84),
                new Position(32, 110),
                new Position(58, 6),
                new Position(58, 32),
                new Position(58, 58),
                new Position(58, 84),
                new Position(58, 110),
                new Position(84, 6),
                new Position(84, 32),
                new Position(84, 58),
                new Position(84, 84),
                new Position(84, 110),
                new Position(110, 32),
                new Position(110, 58),
                new Position(110, 84),
                new Position(110, 110),
            ],
        ];
        yield [
            Version::V26,
            [
                new Position(6, 30),
                new Position(6, 58),
                new Position(6, 86),
                new Position(30, 6),
                new Position(30, 30),
                new Position(30, 58),
                new Position(30, 86),
                new Position(30, 114),
                new Position(58, 6),
                new Position(58, 30),
                new Position(58, 58),
                new Position(58, 86),
                new Position(58, 114),
                new Position(86, 6),
                new Position(86, 30),
                new Position(86, 58),
                new Position(86, 86),
                new Position(86, 114),
                new Position(114, 30),
                new Position(114, 58),
                new Position(114, 86),
                new Position(114, 114),
            ],
        ];
        yield [
            Version::V27,
            [
                new Position(6, 34),
                new Position(6, 62),
                new Position(6, 90),
                new Position(34, 6),
                new Position(34, 34),
                new Position(34, 62),
                new Position(34, 90),
                new Position(34, 118),
                new Position(62, 6),
                new Position(62, 34),
                new Position(62, 62),
                new Position(62, 90),
                new Position(62, 118),
                new Position(90, 6),
                new Position(90, 34),
                new Position(90, 62),
                new Position(90, 90),
                new Position(90, 118),
                new Position(118, 34),
                new Position(118, 62),
                new Position(118, 90),
                new Position(118, 118),
            ],
        ];
        yield [
            Version::V28,
            [
                new Position(6, 30),
                new Position(6, 50),
                new Position(6, 74),
                new Position(6, 98),
                new Position(30, 6),
                new Position(30, 30),
                new Position(30, 50),
                new Position(30, 74),
                new Position(30, 98),
                new Position(30, 122),
                new Position(50, 6),
                new Position(50, 30),
                new Position(50, 50),
                new Position(50, 74),
                new Position(50, 98),
                new Position(50, 122),
                new Position(74, 6),
                new Position(74, 30),
                new Position(74, 50),
                new Position(74, 74),
                new Position(74, 98),
                new Position(74, 122),
                new Position(98, 6),
                new Position(98, 30),
                new Position(98, 50),
                new Position(98, 74),
                new Position(98, 98),
                new Position(98, 122),
                new Position(122, 30),
                new Position(122, 50),
                new Position(122, 74),
                new Position(122, 98),
                new Position(122, 122),
            ],
        ];
        yield [
            Version::V29,
            [
                new Position(6, 34),
                new Position(6, 54),
                new Position(6, 78),
                new Position(6, 102),
                new Position(34, 6),
                new Position(34, 34),
                new Position(34, 54),
                new Position(34, 78),
                new Position(34, 102),
                new Position(34, 126),
                new Position(54, 6),
                new Position(54, 34),
                new Position(54, 54),
                new Position(54, 78),
                new Position(54, 102),
                new Position(54, 126),
                new Position(78, 6),
                new Position(78, 34),
                new Position(78, 54),
                new Position(78, 78),
                new Position(78, 102),
                new Position(78, 126),
                new Position(102, 6),
                new Position(102, 34),
                new Position(102, 54),
                new Position(102, 78),
                new Position(102, 102),
                new Position(102, 126),
                new Position(126, 34),
                new Position(126, 54),
                new Position(126, 78),
                new Position(126, 102),
                new Position(126, 126),
            ],
        ];
        yield [
            Version::V30,
            [
                new Position(6, 26),
                new Position(6, 52),
                new Position(6, 78),
                new Position(6, 104),
                new Position(26, 6),
                new Position(26, 26),
                new Position(26, 52),
                new Position(26, 78),
                new Position(26, 104),
                new Position(26, 130),
                new Position(52, 6),
                new Position(52, 26),
                new Position(52, 52),
                new Position(52, 78),
                new Position(52, 104),
                new Position(52, 130),
                new Position(78, 6),
                new Position(78, 26),
                new Position(78, 52),
                new Position(78, 78),
                new Position(78, 104),
                new Position(78, 130),
                new Position(104, 6),
                new Position(104, 26),
                new Position(104, 52),
                new Position(104, 78),
                new Position(104, 104),
                new Position(104, 130),
                new Position(130, 26),
                new Position(130, 52),
                new Position(130, 78),
                new Position(130, 104),
                new Position(130, 130),
            ],
        ];
        yield [
            Version::V31,
            [
                new Position(6, 34),
                new Position(6, 56),
                new Position(6, 82),
                new Position(6, 108),
                new Position(34, 6),
                new Position(34, 34),
                new Position(34, 56),
                new Position(34, 82),
                new Position(34, 108),
                new Position(34, 134),
                new Position(56, 6),
                new Position(56, 34),
                new Position(56, 56),
                new Position(56, 82),
                new Position(56, 108),
                new Position(56, 134),
                new Position(82, 6),
                new Position(82, 34),
                new Position(82, 56),
                new Position(82, 82),
                new Position(82, 108),
                new Position(82, 134),
                new Position(108, 6),
                new Position(108, 34),
                new Position(108, 56),
                new Position(108, 82),
                new Position(108, 108),
                new Position(108, 134),
                new Position(134, 34),
                new Position(134, 56),
                new Position(134, 82),
                new Position(134, 108),
                new Position(134, 134),
            ],
        ];
        yield [
            Version::V32,
            [
                new Position(6, 30),
                new Position(6, 60),
                new Position(6, 86),
                new Position(6, 112),
                new Position(30, 6),
                new Position(30, 30),
                new Position(30, 60),
                new Position(30, 86),
                new Position(30, 112),
                new Position(30, 138),
                new Position(60, 6),
                new Position(60, 30),
                new Position(60, 60),
                new Position(60, 86),
                new Position(60, 112),
                new Position(60, 138),
                new Position(86, 6),
                new Position(86, 30),
                new Position(86, 60),
                new Position(86, 86),
                new Position(86, 112),
                new Position(86, 138),
                new Position(112, 6),
                new Position(112, 30),
                new Position(112, 60),
                new Position(112, 86),
                new Position(112, 112),
                new Position(112, 138),
                new Position(138, 30),
                new Position(138, 60),
                new Position(138, 86),
                new Position(138, 112),
                new Position(138, 138),
            ],
        ];
        yield [
            Version::V33,
            [
                new Position(6, 34),
                new Position(6, 58),
                new Position(6, 86),
                new Position(6, 114),
                new Position(34, 6),
                new Position(34, 34),
                new Position(34, 58),
                new Position(34, 86),
                new Position(34, 114),
                new Position(34, 142),
                new Position(58, 6),
                new Position(58, 34),
                new Position(58, 58),
                new Position(58, 86),
                new Position(58, 114),
                new Position(58, 142),
                new Position(86, 6),
                new Position(86, 34),
                new Position(86, 58),
                new Position(86, 86),
                new Position(86, 114),
                new Position(86, 142),
                new Position(114, 6),
                new Position(114, 34),
                new Position(114, 58),
                new Position(114, 86),
                new Position(114, 114),
                new Position(114, 142),
                new Position(142, 34),
                new Position(142, 58),
                new Position(142, 86),
                new Position(142, 114),
                new Position(142, 142),
            ],
        ];
        yield [
            Version::V34,
            [
                new Position(6, 30),
                new Position(6, 62),
                new Position(6, 90),
                new Position(6, 118),
                new Position(30, 6),
                new Position(30, 30),
                new Position(30, 62),
                new Position(30, 90),
                new Position(30, 118),
                new Position(30, 146),
                new Position(62, 6),
                new Position(62, 30),
                new Position(62, 62),
                new Position(62, 90),
                new Position(62, 118),
                new Position(62, 146),
                new Position(90, 6),
                new Position(90, 30),
                new Position(90, 62),
                new Position(90, 90),
                new Position(90, 118),
                new Position(90, 146),
                new Position(118, 6),
                new Position(118, 30),
                new Position(118, 62),
                new Position(118, 90),
                new Position(118, 118),
                new Position(118, 146),
                new Position(146, 30),
                new Position(146, 62),
                new Position(146, 90),
                new Position(146, 118),
                new Position(146, 146),
            ],
        ];
        yield [
            Version::V35,
            [
                new Position(6, 30),
                new Position(6, 54),
                new Position(6, 78),
                new Position(6, 102),
                new Position(6, 126),
                new Position(30, 6),
                new Position(30, 30),
                new Position(30, 54),
                new Position(30, 78),
                new Position(30, 102),
                new Position(30, 126),
                new Position(30, 150),
                new Position(54, 6),
                new Position(54, 30),
                new Position(54, 54),
                new Position(54, 78),
                new Position(54, 102),
                new Position(54, 126),
                new Position(54, 150),
                new Position(78, 6),
                new Position(78, 30),
                new Position(78, 54),
                new Position(78, 78),
                new Position(78, 102),
                new Position(78, 126),
                new Position(78, 150),
                new Position(102, 6),
                new Position(102, 30),
                new Position(102, 54),
                new Position(102, 78),
                new Position(102, 102),
                new Position(102, 126),
                new Position(102, 150),
                new Position(126, 6),
                new Position(126, 30),
                new Position(126, 54),
                new Position(126, 78),
                new Position(126, 102),
                new Position(126, 126),
                new Position(126, 150),
                new Position(150, 30),
                new Position(150, 54),
                new Position(150, 78),
                new Position(150, 102),
                new Position(150, 126),
                new Position(150, 150),
            ],
        ];
        yield [
            Version::V36,
            [
                new Position(6, 24),
                new Position(6, 50),
                new Position(6, 76),
                new Position(6, 102),
                new Position(6, 128),
                new Position(24, 6),
                new Position(24, 24),
                new Position(24, 50),
                new Position(24, 76),
                new Position(24, 102),
                new Position(24, 128),
                new Position(24, 154),
                new Position(50, 6),
                new Position(50, 24),
                new Position(50, 50),
                new Position(50, 76),
                new Position(50, 102),
                new Position(50, 128),
                new Position(50, 154),
                new Position(76, 6),
                new Position(76, 24),
                new Position(76, 50),
                new Position(76, 76),
                new Position(76, 102),
                new Position(76, 128),
                new Position(76, 154),
                new Position(102, 6),
                new Position(102, 24),
                new Position(102, 50),
                new Position(102, 76),
                new Position(102, 102),
                new Position(102, 128),
                new Position(102, 154),
                new Position(128, 6),
                new Position(128, 24),
                new Position(128, 50),
                new Position(128, 76),
                new Position(128, 102),
                new Position(128, 128),
                new Position(128, 154),
                new Position(154, 24),
                new Position(154, 50),
                new Position(154, 76),
                new Position(154, 102),
                new Position(154, 128),
                new Position(154, 154),
            ],
        ];
        yield [
            Version::V37,
            [
                new Position(6, 28),
                new Position(6, 54),
                new Position(6, 80),
                new Position(6, 106),
                new Position(6, 132),
                new Position(28, 6),
                new Position(28, 28),
                new Position(28, 54),
                new Position(28, 80),
                new Position(28, 106),
                new Position(28, 132),
                new Position(28, 158),
                new Position(54, 6),
                new Position(54, 28),
                new Position(54, 54),
                new Position(54, 80),
                new Position(54, 106),
                new Position(54, 132),
                new Position(54, 158),
                new Position(80, 6),
                new Position(80, 28),
                new Position(80, 54),
                new Position(80, 80),
                new Position(80, 106),
                new Position(80, 132),
                new Position(80, 158),
                new Position(106, 6),
                new Position(106, 28),
                new Position(106, 54),
                new Position(106, 80),
                new Position(106, 106),
                new Position(106, 132),
                new Position(106, 158),
                new Position(132, 6),
                new Position(132, 28),
                new Position(132, 54),
                new Position(132, 80),
                new Position(132, 106),
                new Position(132, 132),
                new Position(132, 158),
                new Position(158, 28),
                new Position(158, 54),
                new Position(158, 80),
                new Position(158, 106),
                new Position(158, 132),
                new Position(158, 158),
            ],
        ];
        yield [
            Version::V38,
            [
                new Position(6, 32),
                new Position(6, 58),
                new Position(6, 84),
                new Position(6, 110),
                new Position(6, 136),
                new Position(32, 6),
                new Position(32, 32),
                new Position(32, 58),
                new Position(32, 84),
                new Position(32, 110),
                new Position(32, 136),
                new Position(32, 162),
                new Position(58, 6),
                new Position(58, 32),
                new Position(58, 58),
                new Position(58, 84),
                new Position(58, 110),
                new Position(58, 136),
                new Position(58, 162),
                new Position(84, 6),
                new Position(84, 32),
                new Position(84, 58),
                new Position(84, 84),
                new Position(84, 110),
                new Position(84, 136),
                new Position(84, 162),
                new Position(110, 6),
                new Position(110, 32),
                new Position(110, 58),
                new Position(110, 84),
                new Position(110, 110),
                new Position(110, 136),
                new Position(110, 162),
                new Position(136, 6),
                new Position(136, 32),
                new Position(136, 58),
                new Position(136, 84),
                new Position(136, 110),
                new Position(136, 136),
                new Position(136, 162),
                new Position(162, 32),
                new Position(162, 58),
                new Position(162, 84),
                new Position(162, 110),
                new Position(162, 136),
                new Position(162, 162),
            ],
        ];
        yield [
            Version::V39,
            [
                new Position(6, 26),
                new Position(6, 54),
                new Position(6, 82),
                new Position(6, 110),
                new Position(6, 138),
                new Position(26, 6),
                new Position(26, 26),
                new Position(26, 54),
                new Position(26, 82),
                new Position(26, 110),
                new Position(26, 138),
                new Position(26, 166),
                new Position(54, 6),
                new Position(54, 26),
                new Position(54, 54),
                new Position(54, 82),
                new Position(54, 110),
                new Position(54, 138),
                new Position(54, 166),
                new Position(82, 6),
                new Position(82, 26),
                new Position(82, 54),
                new Position(82, 82),
                new Position(82, 110),
                new Position(82, 138),
                new Position(82, 166),
                new Position(110, 6),
                new Position(110, 26),
                new Position(110, 54),
                new Position(110, 82),
                new Position(110, 110),
                new Position(110, 138),
                new Position(110, 166),
                new Position(138, 6),
                new Position(138, 26),
                new Position(138, 54),
                new Position(138, 82),
                new Position(138, 110),
                new Position(138, 138),
                new Position(138, 166),
                new Position(166, 26),
                new Position(166, 54),
                new Position(166, 82),
                new Position(166, 110),
                new Position(166, 138),
                new Position(166, 166),
            ],
        ];
        yield [
            Version::V40,
            [
                new Position(6, 30),
                new Position(6, 58),
                new Position(6, 86),
                new Position(6, 114),
                new Position(6, 142),
                new Position(30, 6),
                new Position(30, 30),
                new Position(30, 58),
                new Position(30, 86),
                new Position(30, 114),
                new Position(30, 142),
                new Position(30, 170),
                new Position(58, 6),
                new Position(58, 30),
                new Position(58, 58),
                new Position(58, 86),
                new Position(58, 114),
                new Position(58, 142),
                new Position(58, 170),
                new Position(86, 6),
                new Position(86, 30),
                new Position(86, 58),
                new Position(86, 86),
                new Position(86, 114),
                new Position(86, 142),
                new Position(86, 170),
                new Position(114, 6),
                new Position(114, 30),
                new Position(114, 58),
                new Position(114, 86),
                new Position(114, 114),
                new Position(114, 142),
                new Position(114, 170),
                new Position(142, 6),
                new Position(142, 30),
                new Position(142, 58),
                new Position(142, 86),
                new Position(142, 114),
                new Position(142, 142),
                new Position(142, 170),
                new Position(170, 30),
                new Position(170, 58),
                new Position(170, 86),
                new Position(170, 114),
                new Position(170, 142),
                new Position(170, 170),
            ],
        ];
    }
}
